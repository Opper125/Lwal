
<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Love You ·Äá·Ä≠·ÄØ·ÄÑ·Ä∫·Äî·ÄÄ·Ä∫·Äú·Ä±·Ä∏·Äõ·Ä±</title>
    <!-- Tailwind CSS - Preloaded for performance -->
    <link rel="preload" as="script" href="https://cdn.tailwindcss.com">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome - Only load essential icons -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
    <!-- Google Fonts - Optimized loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Pacifico&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff6b9d 0%, #c06c84 20%, #6c5ce7 40%, #a29bfe 60%, #fd79a8 80%, #ff6b9d 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            /* Performance optimization */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Intro Screen Styling with Enhanced 3D */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ff6b9d 0%, #c06c84 25%, #6c5ce7 50%, #a29bfe 75%, #fd79a8 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            z-index: 100;
            transition: opacity 2s ease-in-out;
            perspective: 1000px;
            /* Performance optimization */
            will-change: opacity;
        }

        .intro-text {
            color: white;
            font-size: 2.2rem;
            font-weight: 600;
            text-align: center;
            padding: 3rem;
            text-shadow: 
                0 0 30px rgba(255, 255, 255, 0.9), 
                0 0 60px rgba(255, 105, 180, 1),
                0 5px 20px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(30px) scale(0.9) rotateX(10deg);
            animation: fadeInAndUp3D 1.5s forwards;
            animation-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 30px;
            border: 3px solid rgba(255, 255, 255, 0.4);
            box-shadow: 
                0 20px 60px rgba(255, 105, 180, 0.6),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform, opacity;
        }

        @keyframes fadeInAndUp3D {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.9) rotateX(10deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1) rotateX(0deg);
            }
        }

        /* Loading Spinner with 3D Effect */
        .loader {
            border: 10px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            border-top: 10px solid #ff3366;
            border-right: 10px solid #ff6b9d;
            border-bottom: 10px solid #fd79a8;
            width: 80px;
            height: 80px;
            animation: spin3D 1.2s linear infinite;
            box-shadow: 
                0 0 30px rgba(255, 51, 102, 0.8),
                inset 0 0 20px rgba(255, 255, 255, 0.3);
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform;
        }

        @keyframes spin3D {
            0% { transform: rotate(0deg) rotateY(0deg); }
            50% { transform: rotate(180deg) rotateY(180deg); }
            100% { transform: rotate(360deg) rotateY(360deg); }
        }

        /* 3D Falling Hearts & Petals - OPTIMIZED */
        .falling-item {
            position: absolute;
            top: -50px;
            pointer-events: none;
            animation: fall3D linear infinite;
            z-index: 1;
            filter: drop-shadow(0 0 15px rgba(255, 105, 180, 1));
            transform-style: preserve-3d;
            /* Performance optimization - GPU acceleration */
            will-change: transform;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .falling-item.petal {
            font-size: 32px;
            animation: fall3D linear infinite, rotate3D 4s linear infinite;
        }

        .falling-item.heart {
            font-size: 28px;
            animation: fall3D linear infinite, pulse3D 2s ease-in-out infinite;
        }

        @keyframes fall3D {
            to {
                transform: translateY(110vh) translateZ(0px);
                opacity: 0.3;
            }
        }

        @keyframes rotate3D {
            from { transform: rotate(0deg) rotateY(0deg); }
            to { transform: rotate(360deg) rotateY(360deg); }
        }

        @keyframes pulse3D {
            0%, 100% { transform: scale(1) rotateZ(0deg); }
            25% { transform: scale(1.4) rotateZ(-15deg); }
            50% { transform: scale(1.2) rotateZ(15deg); }
            75% { transform: scale(1.4) rotateZ(-15deg); }
        }

        /* Enhanced Nav Bar with Glassmorphism */
        .nav-bar {
            position: relative;
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.9) 0%, rgba(245, 87, 108, 0.9) 50%, rgba(255, 107, 157, 0.9) 100%);
            backdrop-filter: blur(30px) saturate(200%);
            box-shadow: 
                0 15px 50px rgba(245, 87, 108, 0.6),
                inset 0 0 40px rgba(255, 255, 255, 0.3);
            border-bottom: 4px solid rgba(255, 255, 255, 0.5);
            padding: 2.5rem 0;
            border-radius: 0 0 40px 40px;
            background-size: 200% 200%;
            animation: gradientShift 10s ease infinite;
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: background-position;
        }

        .title-text {
            color: white;
            text-shadow: 
                0 0 30px rgba(255, 255, 255, 1), 
                0 0 60px rgba(255, 107, 157, 1), 
                0 8px 15px rgba(0, 0, 0, 0.4);
            letter-spacing: 4px;
            font-family: 'Pacifico', cursive;
            animation: glow3D 2.5s ease-in-out infinite;
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: text-shadow, transform;
        }

        @keyframes glow3D {
            0%, 100% { 
                text-shadow: 
                    0 0 30px rgba(255, 255, 255, 1), 
                    0 0 60px rgba(255, 107, 157, 1),
                    0 8px 15px rgba(0, 0, 0, 0.4);
                transform: translateZ(0px);
            }
            50% { 
                text-shadow: 
                    0 0 50px rgba(255, 255, 255, 1), 
                    0 0 100px rgba(255, 107, 157, 1),
                    0 10px 20px rgba(0, 0, 0, 0.5);
                transform: translateZ(10px);
            }
        }

        .heart-emoji {
            font-size: 2.5rem;
            animation: heartBeat3D 1.8s infinite ease-in-out;
            filter: drop-shadow(0 0 20px rgba(255, 51, 102, 1));
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform;
        }

        @keyframes heartBeat3D {
            0%, 100% { transform: scale(1) rotateY(0deg); }
            25% { transform: scale(1.4) rotate(-12deg) rotateY(20deg); }
            50% { transform: scale(1.2) rotate(12deg) rotateY(-20deg); }
            75% { transform: scale(1.4) rotate(-12deg) rotateY(20deg); }
        }

        /* Ultra Enhanced 3D Gallery Cards - OPTIMIZED */
        .gallery-card {
            position: relative;
            overflow: hidden;
            border-radius: 2rem;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.3), 
                0 10px 25px rgba(255, 107, 157, 0.4),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
            perspective: 1500px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15));
            backdrop-filter: blur(20px) saturate(180%);
            border: 3px solid rgba(255, 255, 255, 0.5);
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform, box-shadow;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        /* Corner Hearts on Cards */
        .gallery-card::after {
            content: 'üíó';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 3rem;
            opacity: 0;
            transform: rotate(-15deg) scale(0.5);
            transition: all 0.4s ease;
            filter: drop-shadow(0 0 15px rgba(255, 105, 180, 1));
            z-index: 10;
            /* Performance optimization */
            will-change: opacity, transform;
        }

        .gallery-card:hover::after {
            opacity: 1;
            transform: rotate(0deg) scale(1);
        }

        .gallery-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
            transition: left 0.6s;
            z-index: 1;
            /* Performance optimization */
            will-change: left;
        }

        .gallery-card:hover::before {
            left: 100%;
        }

        .gallery-card:hover {
            transform: translateY(-20px) rotateY(8deg) rotateX(5deg) scale(1.08);
            box-shadow: 
                0 35px 70px rgba(255, 107, 157, 0.6), 
                0 15px 35px rgba(245, 87, 108, 0.5),
                inset 0 0 40px rgba(255, 255, 255, 0.3);
        }

        .gallery-card img {
            transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-style: preserve-3d;
            filter: brightness(1.1) contrast(1.15) saturate(1.2);
            /* Performance optimization */
            will-change: transform;
            backface-visibility: hidden;
            /* Lazy loading support */
            max-width: 100%;
            height: auto;
        }

        .gallery-card:hover img {
            transform: scale(1.2) rotate(3deg) translateZ(20px);
        }

        /* Enhanced Heart Spread with 3D - OPTIMIZED */
        .heart-spread {
            position: absolute;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(255, 51, 102, 1), rgba(255, 105, 180, 0.5), transparent);
            border-radius: 50%;
            pointer-events: none;
            animation: spread3D 1.5s ease-out forwards;
            opacity: 0;
            transform: scale(0) rotateZ(0deg);
            z-index: 10;
            box-shadow: 0 0 40px rgba(255, 51, 102, 1);
            /* Performance optimization */
            will-change: transform, opacity;
        }

        @keyframes spread3D {
            0% {
                opacity: 1;
                transform: scale(0) rotateZ(0deg);
            }
            50% {
                opacity: 0.8;
                transform: scale(2) rotateZ(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(4) rotateZ(360deg);
            }
        }

        /* Enhanced Content Title */
        .content-title {
            font-family: 'Pacifico', cursive;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 50%, #ff6b9d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 8px 15px rgba(245, 87, 108, 0.5));
            animation: titleFloat3D 4s ease-in-out infinite;
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform;
        }

        @keyframes titleFloat3D {
            0%, 100% { transform: translateY(0) rotateX(0deg); }
            50% { transform: translateY(-15px) rotateX(5deg); }
        }

        /* Enhanced Start Button with 3D */
        #start-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 
                0 15px 40px rgba(245, 87, 108, 0.7),
                inset 0 0 30px rgba(255, 255, 255, 0.3);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border: 3px solid rgba(255, 255, 255, 0.6);
            font-family: 'Pacifico', cursive;
            letter-spacing: 3px;
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform, box-shadow;
        }

        #start-button:hover {
            transform: scale(1.15) translateY(-8px) rotateX(10deg);
            box-shadow: 
                0 20px 60px rgba(245, 87, 108, 1),
                inset 0 0 40px rgba(255, 255, 255, 0.5);
            background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
        }

        /* Footer with Glassmorphism */
        footer {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(30px) saturate(180%);
            border-top: 3px solid rgba(255, 255, 255, 0.4);
            color: white;
            text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
            box-shadow: 0 -10px 30px rgba(255, 105, 180, 0.3);
        }

        /* Enhanced Sparkle with 3D - OPTIMIZED */
        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkleAnim3D 2s ease-out forwards;
            box-shadow: 0 0 20px white;
            transform-style: preserve-3d;
            /* Performance optimization */
            will-change: transform, opacity;
        }

        @keyframes sparkleAnim3D {
            0% {
                opacity: 1;
                transform: scale(0) translateY(0) rotateZ(0deg);
            }
            100% {
                opacity: 0;
                transform: scale(2) translateY(-120px) rotateZ(360deg);
            }
        }

        /* Floating Flowers Background Decoration - OPTIMIZED */
        .flower-decoration {
            position: fixed;
            pointer-events: none;
            opacity: 0.6;
            animation: floatFlower 20s ease-in-out infinite;
            z-index: 0;
            filter: drop-shadow(0 0 20px rgba(255, 105, 180, 0.8));
            font-size: 4rem;
            /* Performance optimization */
            will-change: transform;
            backface-visibility: hidden;
        }

        @keyframes floatFlower {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
        }

        /* Hidden class for performance */
        .hidden {
            display: none !important;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .intro-text {
                font-size: 1.5rem;
                padding: 2rem;
            }
            .title-text {
                font-size: 2rem !important;
            }
            .content-title {
                font-size: 2rem !important;
            }
            /* Reduce animations on mobile for better performance */
            .flower-decoration {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-pink-100 min-h-screen">
    <!-- Floating Flower Decorations -->
    <div class="flower-decoration" style="top: 10%; left: 5%;">üå∏</div>
    <div class="flower-decoration" style="top: 20%; right: 10%; animation-delay: 2s;">üå∫</div>
    <div class="flower-decoration" style="top: 60%; left: 8%; animation-delay: 4s;">üå∑</div>
    <div class="flower-decoration" style="top: 70%; right: 5%; animation-delay: 6s;">üåπ</div>
    <div class="flower-decoration" style="top: 40%; left: 15%; animation-delay: 8s;">üíê</div>
    <div class="flower-decoration" style="top: 80%; right: 15%; animation-delay: 10s;">üå∏</div>

    <!-- Introduction Splash Screen -->
    <div id="intro-screen">
        <div id="intro-text-container" class="flex flex-col items-center">
            <div id="intro-text"></div>
            <div id="loading-spinner" class="hidden my-4 loader"></div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden">
        <!-- Background Audio Player with Supabase link -->
        <audio id="background-audio" loop preload="none">
            <source src="https://sogqendnbehfidjupthr.supabase.co/storage/v1/object/public/website-assets/VID_20260107_100843_569.mp4" type="audio/mp4">
        </audio>

        <!-- Top Navigation Bar -->
        <header class="nav-bar text-center">
            <h1 class="title-text text-4xl md:text-6xl font-bold flex items-center justify-center space-x-4">
                <i class="fas fa-heart text-white heart-emoji"></i>
                <span>I LOVE YOU</span>
                <i class="fas fa-heart text-white heart-emoji"></i>
            </h1>
        </header>

        <!-- Main Content Section -->
        <main class="container mx-auto p-4 md:p-8 relative z-20">
            <section class="my-12">
                <h2 class="content-title text-center text-4xl md:text-5xl font-bold mb-12">
                    ·ÄÄ·Ä≠·ÄØ·Ä∑·ÄÄ·Ä≠·ÄØ üíô·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Äû·Ä∞·Äú·Ä±·Ä∏üíô ·Äê·Äò·Äù·ÄÖ·Ä¨·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·Äï·Ä´·Äê·Äö·Ä∫‚ô•
                </h2>
                <div id="image-gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Images will be injected here by JavaScript -->
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="text-center text-sm py-6 relative z-20 mt-12">
            <p class="text-lg">üíñ &copy; 2026 ·Äá·Ä≠·ÄØ·ÄÑ·Ä∫·Äî·ÄÄ·Ä∫·Äú·Ä±·Ä∏ ·Ä°·Äô·Äæ·Äê·Ä∫·Äê·Äõ love reserved. üíñ</p>
        </footer>
    </div>

    <script>
        // PERFORMANCE OPTIMIZATION: Debounce function for scroll/resize events
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // PERFORMANCE OPTIMIZATION: Throttle function for animations
        function throttle(func, delay) {
            let lastCall = 0;
            return function(...args) {
                const now = new Date().getTime();
                if (now - lastCall < delay) return;
                lastCall = now;
                return func(...args);
            };
        }

        // Updated intro messages with 4 seconds display time
        const introMessages = [
            "·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Äû·Ä∞ ·Äá·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·ÄÄ·Ä∫·Äò·ÄÆ ·Äú·Ä±·Ä∏üß°",
            "·Ää·ÄÆ·Äô ·ÄÅ·Äª·ÄÖ·Ä∫·Äñ·Ä∞·Ä∏·Äê·Äô·Äª·Äæ·Äû·Ä∞·Äê·ÄΩ·Ä±·Äë·Ä≤·Äô·Äæ·Ä¨ ·Ä°·ÄÄ·Ä≠·ÄØ·ÄÄ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·ÄÜ·ÄØ·Ä∂·Ä∏·Äî·Ä≤·Ä∑ ·Äï·Äë·Äô·ÄÜ·ÄØ·Ä∂·Ä∏·Äñ·Äº·ÄÖ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Äï·Ä´·Äê·Äö·Ä∫",
            "·Ä°·ÄÄ·Ä≠·ÄØ·ÄÄ·Ää·ÄÆ·Äô·Äõ·Ä≤·Ä∑ ·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·ÄÄ·Ä≠·ÄØ·Äõ·Äï·ÄÆ·ÄÜ·Ä≠·ÄØ·Äê·Ä¨·Äî·Ä≤·Ä∑ ·Ää·ÄÆ·Äô ·ÄÄ·Ä≠·ÄØ·Äò·Äö·Ä∫·Äê·Ä±·Ä¨·Ä∫·Ä∑·Äô·Äæ·Äë·Ä¨·Ä∏·Äû·ÄΩ·Ä¨·Ä∏·Äô·Äæ·Ä¨·Äô·Äü·ÄØ·Äê·Ä∫·Äï·Ä´·Äñ·Ä∞·Ä∏",
            "·Ä°·ÄÄ·Ä≠·ÄØ·ÄÄ ·Äá·Ä≠·ÄØ·ÄÑ·Ä∫·Äî·ÄÄ·Ä∫·Äò·ÄÆ·Äú·Ä±·Ä∏·ÄÄ·Ä≠·ÄØ ·Äê·Äò·Äù·ÄÖ·Ä¨·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·Äï·ÄÆ·Ä∏ ·Äê·ÄÄ·Äö·Ä∫·ÄÅ·Äª·ÄÖ·Ä∫·Äô·Äæ·Ä¨·Äô·Ä≠·ÄØ·Ä∑",
            "·Ä°·ÄÄ·Ä≠·ÄØ·Ä∑·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·ÄÄ·Ä≠·ÄØ ·Äû·Ä∂·Äû·Äö ·ÄÄ·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÑ·Ä∫·Ä∏·Äî·Ä≤·Ä∑ ·Äú·ÄÄ·Ä∫·ÄÅ·Ä∂·Äö·ÄØ·Ä∂·ÄÄ·Äº·Ää·Ä∫·Äï·Ä±·Ä∏·Äï·Ä´·Äî·Ä±·Ä¨·Ä∫",
            "·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Äû·Ä±·Ä¨·Ä∫·Äû·Ä∞·Äú·Ä±·Ä∏ ·Äá·Ä≠·ÄØ·ÄÑ·Ä∫·Äî·ÄÄ·Ä∫·Äò·ÄÆ ·Ä°·ÄÄ·Ä≠·ÄØ·ÄÅ·Äª·ÄÖ·Ä∫·Äê·Äö·Ä∫·Äî·Ä±·Ä¨·Ä∫üòòüòò",
            "·Ä°·ÄÅ·ÄØ ·Äí·ÄÆ·Äë·Ä≤·Äô·Äæ·Ä¨ ·Äò·Ä¨·Äê·ÄΩ·Ä± ·Äõ·Äæ·Ä≠·Äú·Ää·Ä∫·Ä∏ ·ÄÄ·Äº·Ä≠·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä±·Ä¨·Ä∫ ü•∞ü•∞"
        ];

        // Updated image URLs with raw GitHub links
        const imageUrls = [
            "https://raw.githubusercontent.com/Opper125/Lwal/2246489ee14afc69522b62311dba084ac8d39667/1768490404300.png",
            "https://raw.githubusercontent.com/Opper125/Lwal/2246489ee14afc69522b62311dba084ac8d39667/1768490412436.png",
            "https://raw.githubusercontent.com/Opper125/Lwal/2246489ee14afc69522b62311dba084ac8d39667/1768490408034.png"
        ];

        // PERFORMANCE: Track active animations
        let activeAnimations = {
            falling: [],
            sparkles: []
        };

        // PERFORMANCE: Max items on screen
        const MAX_FALLING_ITEMS = 15;
        const MAX_SPARKLES = 10;

        // Setup background with smooth transition
        async function setupBackground() {
            const loadingSpinner = document.getElementById('loading-spinner');
            loadingSpinner.classList.remove('hidden');

            // Simulate loading time for smooth transition
            await new Promise(resolve => setTimeout(resolve, 2000));

            loadingSpinner.classList.add('hidden');
            
            document.getElementById('intro-text-container').innerHTML = `
                <button id="start-button" class="mt-8 px-10 py-5 bg-pink-500 text-white font-bold rounded-full shadow-lg hover:bg-pink-600 transition-all transform hover:scale-105 text-xl">
                    Website ·ÄÄ·Ä≠·ÄØ ·ÄÖ·Äê·ÄÑ·Ä∫·Äõ·Äî·Ä∫ ·Äî·Ä≠·Äï·Ä∫·Äï·Ä´
                </button>
            `;

            document.getElementById('start-button').addEventListener('click', () => {
                const introScreen = document.getElementById('intro-screen');
                const dashboard = document.getElementById('dashboard');

                introScreen.style.opacity = '0';
                setTimeout(() => {
                    introScreen.style.display = 'none';
                    dashboard.classList.remove('hidden');
                    
                    // AUTO PLAY AUDIO from Supabase when dashboard is visible
                    const audioPlayer = document.getElementById('background-audio');
                    audioPlayer.load(); // Load audio only when needed
                    audioPlayer.play().catch(e => {
                        console.error("Audio playback failed:", e);
                        // Retry on user interaction
                        document.body.addEventListener('click', () => {
                            audioPlayer.play().catch(err => console.error("Retry failed:", err));
                        }, { once: true });
                    });
                    
                    // PERFORMANCE: Throttled sparkle effects
                    setInterval(createSparkleThrottled, 600);
                }, 2000);
            });
        }

        // OPTIMIZED: Create falling items with cleanup
        function createFallingItem(type) {
            // PERFORMANCE: Limit active falling items
            if (activeAnimations.falling.length >= MAX_FALLING_ITEMS) {
                return;
            }

            const item = document.createElement('div');
            item.classList.add('falling-item', type);
            if (type === 'petal') {
                item.innerHTML = 'üíô';
            } else if (type === 'heart') {
                item.innerHTML = '‚ù§Ô∏è';
            }
            item.style.left = Math.random() * 100 + 'vw';
            const duration = Math.random() * 4 + 6;
            item.style.animationDuration = duration + 's';
            item.style.animationDelay = Math.random() * 2 + 's';
            item.style.fontSize = (Math.random() * 15 + 25) + 'px';
            
            document.body.appendChild(item);
            activeAnimations.falling.push(item);

            // PERFORMANCE: Remove after animation
            setTimeout(() => {
                item.remove();
                const index = activeAnimations.falling.indexOf(item);
                if (index > -1) activeAnimations.falling.splice(index, 1);
            }, (duration + 2) * 1000);
        }

        // OPTIMIZED: Create sparkle effects with cleanup
        function createSparkle() {
            // PERFORMANCE: Limit active sparkles
            if (activeAnimations.sparkles.length >= MAX_SPARKLES) {
                return;
            }

            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.top = Math.random() * 100 + 'vh';
            
            document.body.appendChild(sparkle);
            activeAnimations.sparkles.push(sparkle);

            // PERFORMANCE: Remove after animation (2s)
            setTimeout(() => {
                sparkle.remove();
                const index = activeAnimations.sparkles.indexOf(sparkle);
                if (index > -1) activeAnimations.sparkles.splice(index, 1);
            }, 2000);
        }

        // PERFORMANCE: Throttled version of createSparkle
        const createSparkleThrottled = throttle(createSparkle, 300);

        // OPTIMIZED: Load images with lazy loading
        function loadImages() {
            const gallery = document.getElementById('image-gallery');
            imageUrls.forEach((url, index) => {
                const card = document.createElement('div');
                card.classList.add('gallery-card');
                card.style.animationDelay = `${index * 0.15}s`;

                const img = document.createElement('img');
                img.src = url;
                img.alt = "Romantic Image";
                img.classList.add('w-full', 'h-auto', 'rounded-lg');
                // PERFORMANCE: Add loading="lazy" for lazy loading
                img.loading = 'lazy';
                // PERFORMANCE: Add decoding="async" for async decoding
                img.decoding = 'async';
                
                card.appendChild(img);
                gallery.appendChild(card);

                // OPTIMIZED: Click effect with reduced animations on mobile
                card.addEventListener('click', throttle((e) => {
                    const rect = card.getBoundingClientRect();
                    const isMobile = window.innerWidth <= 768;
                    const heartCount = isMobile ? 3 : 5;
                    const sparkleCount = isMobile ? 5 : 10;
                    
                    // Create heart spreads
                    for (let i = 0; i < heartCount; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('span');
                            heart.classList.add('heart-spread');
                            heart.style.left = `${e.clientX - rect.left + (Math.random() - 0.5) * 30}px`;
                            heart.style.top = `${e.clientY - rect.top + (Math.random() - 0.5) * 30}px`;
                            card.appendChild(heart);
                            setTimeout(() => heart.remove(), 1500);
                        }, i * 150);
                    }
                    
                    // Create sparkles around click
                    for (let i = 0; i < sparkleCount; i++) {
                        const sparkle = document.createElement('div');
                        sparkle.classList.add('sparkle');
                        sparkle.style.left = `${e.clientX - rect.left + (Math.random() - 0.5) * 80}px`;
                        sparkle.style.top = `${e.clientY - rect.top + (Math.random() - 0.5) * 80}px`;
                        sparkle.style.position = 'absolute';
                        card.appendChild(sparkle);
                        setTimeout(() => sparkle.remove(), 2000);
                    }
                }, 500));
            });
        }

        // PERFORMANCE: Optimized falling items creation
        const createFallingPetal = throttle(() => createFallingItem('petal'), 500);
        const createFallingHeart = throttle(() => createFallingItem('heart'), 700);

        // Main function to run on window load
        window.onload = function() {
            const introTextElement = document.getElementById('intro-text');
            let index = 0;

            function showNextMessage() {
                if (index < introMessages.length) {
                    const textElement = document.createElement('div');
                    textElement.classList.add('intro-text');
                    textElement.textContent = introMessages[index];
                    introTextElement.innerHTML = '';
                    introTextElement.appendChild(textElement);
                    index++;
                    setTimeout(showNextMessage, 4000);
                } else {
                    setupBackground();
                }
            }
            
            showNextMessage();
            loadImages();
            
            // PERFORMANCE: Start falling items with intervals
            setInterval(createFallingPetal, 800);
            setInterval(createFallingHeart, 1100);
        };

        // PERFORMANCE: Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            activeAnimations.falling.forEach(item => item.remove());
            activeAnimations.sparkles.forEach(item => item.remove());
            activeAnimations.falling = [];
            activeAnimations.sparkles = [];
        });

        // PERFORMANCE: Pause animations when tab is not visible
        document.addEventListener('visibilitychange', () => {
            const audio = document.getElementById('background-audio');
            if (document.hidden) {
                if (audio) audio.pause();
            } else {
                if (audio && !audio.paused) audio.play();
            }
        });
    </script>
</body>
</html>
